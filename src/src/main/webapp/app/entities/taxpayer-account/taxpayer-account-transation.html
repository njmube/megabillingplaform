<div class="page-header">
    <div class="row">
        <div class="col-md-8">
            <h1>
                {{'megabillingplatformApp.taxpayer_account.detail.title' | translate}}
                <small>
                    <i class="ace-icon fa fa-angle-double-right"></i>
                    {{'megabillingplatformApp.taxpayer_account.adquired' | translate}}
                </small>
            </h1>
        </div>
        <div class="col-md-3">
            <select class="form-control" id="field_account" name="account" ng-model="vm.taxpayer_account" ng-change="vm.changeAccount()"
                    ng-options="taxpayer_account as taxpayer_account.bussines_name for taxpayer_account in vm.taxpayer_accounts track by taxpayer_account.id">
                <option value=""></option>
            </select>
        </div>
        <div class="col-md-1">
            <a title="Ayuda" data-rel="tooltip" class="btn btn-sm btn-info tooltip-info" href="#">
                <i class="fa fa-lightbulb-o"></i>
            </a>
        </div>
    </div>
</div><!-- /.page-header -->

<div class="row">
    <div class="col-xs-12">
        <ul class="nav nav-pills">
            <li>
                <a href="#/">
                    <i class="ace-icon fa fa-home light-blue bigger-150"></i>
                </a>
            </li>
            <li>
                <a ui-sref="taxpayer-account-general({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.general' | translate}}</a>
            </li>
            <li>
                <a ui-sref="taxpayer-account-users({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.users' | translate}}</a>
            </li>
            <li>
                <a ui-sref="taxpayer-account-taxregime({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.tax_regime' | translate}}</a>
            </li>
            <li>
                <a ui-sref="taxpayer-account-branchoffice({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.branch_office' | translate}}</a>
            </li>
            <li>
                <a ui-sref="taxpayer-account-mail({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.email_account' | translate}}</a>
            </li>
            <li>
                <a ui-sref="taxpayer-account-ftp({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.ftp_account' | translate}}</a>
            </li>
            <li class="active">
                <a ui-sref="#">{{'megabillingplatformApp.taxpayer_account.adquired' | translate}}</a>
            </li>
        </ul>
    </div><!-- /.col -->
</div><!-- /.row -->

<div class="hr hr-16 hr-dotted"></div>

<jhi-alert></jhi-alert>

<div class="row">
    <div class="col-sm-12">
        <form name="editForm" class="form-horizontal" role="form" novalidate show-validation>
            <div class="row">
                <div class = "col-md-6">
                    <div class="form-group">
                        <label class="col-sm-4 control-label no-padding-right"
                               translate="megabillingplatformApp.taxpayer_account.transactions_available"
                               for="countbuy">Timbres disponibles: </label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="transactions_available" id="transactions_available"
                                   ng-model="vm.taxpayer_transaction.transactions_available" readonly>
                        </div>
                    </div>
                </div>
                <div class = "col-md-6">

                </div>
            </div>
            <div class="row">
                <div class="col-md-6">

                    <h3 class="header smaller lighter blue" translate="megabillingplatformApp.taxpayer_account.buytransactions">
                        Comprar Timbres
                    </h3>

                    <div class="form-group">
                        <label class="col-sm-4 control-label no-padding-right" translate="megabillingplatformApp.taxpayer_account.transactiontype" for="transactiontype">Paquete de Timbre</label>
                        <div class="col-sm-8">
                            <select name="transactiontype" id="transactiontype" ng-model="vm.ring_pack"
                                    ng-options="ring_pack as ring_pack.currency for ring_pack in vm.ring_packs track by ring_pack.id">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-sm-4 control-label no-padding-right"
                               translate="megabillingplatformApp.taxpayer_account.countbuy"
                               for="countbuy">Cantidad</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="countbuy" id="countbuy"
                                   ng-model="vm.countbuy" ng-pattern="/^[0-9]{1,}$/">
                            <div ng-show="editForm.countbuy.$dirty && editForm.countbuy.$invalid">
                                <p class="help-block"
                                   ng-show="editForm.countbuy.$error.minlength"
                                   translate="megabillingplatformApp.taxpayer_account.messages.validate.count.minlength" >
                                    The field is required to be at least 1 digit.
                                </p>
                                <p class="help-block"
                                   ng-show="editForm.countbuy.$error.pattern"
                                   translate="megabillingplatformApp.taxpayer_account.messages.validate.count.pattern"
                                   translate-value-pattern="^[0-9]{1,}$">
                                    Field format is incorrect.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="space-6"></div>

                    <div class="form-group">

                        <button type="button" ng-click = "vm.buy()" class="btn btn-primary pull-right" style="margin: 0 15px">
                            <span translate="megabillingplatformApp.taxpayer_account.buyAction">Comprar </span>
                        </button>

                    </div>

                </div>
                <div class="col-md-6">
                    <h3 class="header smaller lighter blue" translate="megabillingplatformApp.taxpayer_account.transfer">
                        Transferir Timbres
                    </h3>

                    <div class="form-group">
                        <label class="col-md-4 control-label no-padding-right" translate="megabillingplatformApp.taxpayer_account.accountdestine" for="accountdestine">Cuenta de contribuyente de destino</label>
                        <div class="col-md-8">
                            <select class="form-control" id="accountdestine" name="accountdestine" ng-model="vm.accountdestine"
                                    ng-options="taxpayer_account as taxpayer_account.bussines_name for taxpayer_account in vm.taxpayer_accounts track by taxpayer_account.id">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-4 control-label no-padding-right"  translate="megabillingplatformApp.taxpayer_account.countbuy" for="counttransfer">Cantidad</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" name="counttransfer" id="counttransfer"
                                   ng-model="vm.counttransfer">
                            <div ng-show="editForm.counttransfer.$dirty && editForm.counttransfer.$invalid">
                                <p class="help-block"
                                   ng-show="editForm.counttransfer.$error.minlength"
                                   translate="megabillingplatformApp.taxpayer_account.messages.validate.count.minlength" >
                                    The field is required to be at least 1 digit.
                                </p>
                                <p class="help-block"
                                   ng-show="editForm.counttransfer.$error.pattern"
                                   translate="megabillingplatformApp.taxpayer_account.messages.validate.count.pattern"
                                   translate-value-pattern="^[0-9]{1,}$">
                                    Field format is incorrect.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="space-6"></div>

                    <div class="form-group">

                        <button type="button" ng-click = "vm.transfer()" class="btn btn-primary pull-right" style="margin: 0 15px">
                            <span translate="megabillingplatformApp.taxpayer_account.transferAction">Transferir </span>
                        </button>

                    </div>

                    <div class="form-group">
                        <p class="help-block" ng-show = "vm.showcounttransfmess != null">{{'megabillingplatformApp.taxpayer_account.counttransmess' | translate}}</p>
                    </div>
                    <div class="form-group">
                        <p class="help-block" ng-show = "vm.showaccountmess != null">{{'megabillingplatformApp.taxpayer_account.accountmess' | translate}}</p>
                    </div>

                </div>
            </div>
        </form>
    </div>
</div>



