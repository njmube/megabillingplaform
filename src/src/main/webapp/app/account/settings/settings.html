<div>
    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <h2 translate="settings.title" translate-values="{username: '{{vm.settingsAccount.login}}'}">User settings for [<b>{{vm.settingsAccount.login}}</b>]</h2>

            <div class="alert alert-success" ng-show="vm.success" translate="settings.messages.success">
                <strong>Settings saved!</strong>
            </div>

            <div class="alert alert-danger" ng-show="vm.errorEmailExists" translate="settings.messages.error.emailexists">
                <strong>E-mail is already in use!</strong> Please choose another one.
            </div>

            <div class="alert alert-danger" ng-show="vm.error" translate="settings.messages.error.fail">
                <strong>An error has occurred!</strong> Settings could not be saved.
            </div>

            <form name="form" role="form" novalidate ng-submit="vm.save()" show-validation>

                <div class="form-group">
                    <label class="control-label" for="rfc" translate="settings.form.rfc">RFC</label>
                    <input type="text" class="form-control" id="rfc" name="rfc" placeholder="{{'settings.form.rfc.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.rfc" ng-minlength=12 ng-maxlength=13  maxlength="13" ng-pattern="/^[A-Z,Ã‘,&]{3,4}[0-9]{2}[0-1][0-9][0-3][0-9][A-Z,0-9]?[A-Z,0-9]?[0-9,A-Z]?/" required>
                    <div ng-show="form.rfc.$dirty && form.rfc.$invalid">
                        <p class="help-block"
                           ng-show="form.rfc.$error.required" translate="settings.messages.validate.rfc.required">
                            Your rfc is required.
                        </p>
                        <p class="help-block"
                           ng-show="form.rfc.$error.minlength" translate="settings.messages.validate.rfc.minlength">
                            Your rfc is required to be at least 12 character.
                        </p>
                        <p class="help-block"
                           ng-show="form.rfc.$error.maxlength" translate="settings.messages.validate.rfc.maxlength">
                            Your rfc cannot be longer than 13 characters.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="name" translate="settings.form.name">Name</label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="{{'settings.form.name.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.name" ng-minlength=1 ng-maxlength=50 required maxlength="50">
                    <div ng-show="form.name.$dirty && form.name.$invalid">
                        <p class="help-block"
                               ng-show="form.name.$error.required" translate="settings.messages.validate.name.required">
                            Your name is required.
                        </p>
                        <p class="help-block"
                               ng-show="form.name.$error.minlength" translate="settings.messages.validate.name.minlength">
                            Your name is required to be at least 1 character.
                        </p>
                        <p class="help-block"
                               ng-show="form.name.$error.maxlength" translate="settings.messages.validate.name.maxlength">
                            Your name cannot be longer than 50 characters.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="first_surname" translate="settings.form.first_surname">First surname</label>
                    <input type="text" class="form-control" id="first_surname" name="first_surname" placeholder="{{'settings.form.first_surname.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.first_surname" ng-minlength=1 ng-maxlength=50 required maxlength="50">
                    <div ng-show="form.first_surname.$dirty && form.first_surname.$invalid">
                        <p class="help-block"
                               ng-show="form.first_surname.$error.required" translate="settings.messages.validate.first_surname.required">
                            Your first surname is required.
                        </p>
                        <p class="help-block"
                               ng-show="form.first_surname.$error.minlength" translate="settings.messages.validate.first_surname.minlength">
                            Your first surname is required to be at least 1 character.
                        </p>
                        <p class="help-block"
                               ng-show="form.first_surname.$error.maxlength" translate="settings.messages.validate.first_surname.maxlength">
                            Your first surname cannot be longer than 50 characters.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="second_surname" translate="settings.form.first_surname">Second surname</label>
                    <input type="text" class="form-control" id="second_surname" name="second_surname" placeholder="{{'settings.form.second_surname.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.second_surname" ng-minlength=1 ng-maxlength=50 required maxlength="50">
                    <div ng-show="form.second_surname.$dirty && form.second_surname.$invalid">
                        <p class="help-block"
                           ng-show="form.second_surname.$error.required" translate="settings.messages.validate.second_surname.required">
                            Your second surname is required.
                        </p>
                        <p class="help-block"
                           ng-show="form.second_surname.$error.minlength" translate="settings.messages.validate.second_surname.minlength">
                            Your second surname is required to be at least 1 character.
                        </p>
                        <p class="help-block"
                           ng-show="form.second_surname.$error.maxlength" translate="settings.messages.validate.second_surname.maxlength">
                            Your second surname cannot be longer than 50 characters.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="email" translate="global.form.email">E-mail</label>
                    <input type="email" class="form-control" id="email" name="email" placeholder="{{'global.form.email.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.email" ng-minlength=5 ng-maxlength=100 required maxlength="100">
                    <div ng-show="form.email.$dirty && form.email.$invalid">
                        <p class="help-block"
                               ng-show="form.email.$error.required" translate="global.messages.validate.email.required">
                            Your e-mail is required.
                        </p>
                        <p class="help-block"
                               ng-show="form.email.$error.email" translate="global.messages.validate.email.invalid">
                            Your e-mail is invalid.
                        </p>
                        <p class="help-block"
                               ng-show="form.email.$error.minlength" translate="global.messages.validate.email.minlength">
                            Your e-mail is required to be at least 5 characters.
                        </p>
                        <p class="help-block"
                               ng-show="form.email.$error.maxlength" translate="global.messages.validate.email.maxlength">
                            Your e-mail cannot be longer than 100 characters.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="phone" translate="settings.form.phone">Phone</label>
                    <input type="text" class="form-control" id="phone" name="phone" placeholder="{{'settings.form.phone.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.phone" ng-minlength=1 ng-maxlength=15 maxlength="15" ng-pattern="/^[0-9]{1,15}/" required>
                    <div ng-show="form.phone.$dirty && form.phone.$invalid">
                        <p class="help-block"
                           ng-show="form.phone.$error.required" translate="settings.messages.validate.phone.required">
                            Your phone is required.
                        </p>
                        <p class="help-block"
                           ng-show="form.phone.$error.minlength" translate="settings.messages.validate.phone.minlength">
                            Your phone is required to be at least 1 character.
                        </p>
                        <p class="help-block"
                           ng-show="form.phone.$error.maxlength" translate="settings.messages.validate.phone.maxlength">
                            Your phone cannot be longer than 15 characters.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" translate="settings.form.date_born" for="date_born">Date born</label>
                    <div class="input-group">
                        <input id="date_born" type="text" class="form-control" name="date_born" uib-datepicker-popup="{{dateformat}}" ng-model="vm.settingsAccount.date_born" is-open="vm.datePickerOpenStatus.date_born"
                               required/>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="vm.openCalendar('date')"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                    </div>
                    <div ng-show="editForm.date.$invalid">
                        <p class="help-block"
                           ng-show="editForm.date.$error.required" translate="entity.validation.required">
                            This field is required.
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="gender" translate="settings.form.gender">Gender</label>
                    <input type="text" class="form-control" id="gender" name="gender" placeholder="{{'settings.form.gender.placeholder' | translate}}"
                           ng-model="vm.settingsAccount.gender" required>
                </div>
                <div class="form-group">
                    <label for="langKey" translate="settings.form.language">Language</label>
                    <select id="langKey" name="langKey" class="form-control" ng-model="vm.settingsAccount.langKey" ng-controller="JhiLanguageController as languageVm" ng-options="code as (code | findLanguageFromKey) for code in languageVm.languages"></select>
                </div>

                <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary" translate="settings.form.button">Save</button>
            </form>
        </div>
    </div>

</div>
