<div ng-cloak ng-switch="vm.isAuthenticated()">

	<div class="row" ng-switch-when="false">
		<div class="col-xs-12">
			<!-- PAGE CONTENT BEGINS -->

			<div class="row">
				<div class="col-md-12">
					<p class="text-center"><img src="content/images/slider/slider1.jpg" class="img-responsive center-block"></p>

					<div class="hr hr8"></div>

                    <h3 class="bolder text-center">
                        {{'home.servicios.aplicaciones' | translate}}
                    </h3>

                    <div class="space-12"></div>

                    <div class="row">
                        <div class="col-md-2">
                            <a class="btn btn-link text-center front-link">
                                <p><img src="content/images/icons/facturacion-masiva.png"></p>
                                <p>{{'home.facturacion.masiva' | translate}}</p>
                            </a>
                        </div>

                        <div class="col-md-2 ">
                            <a class="btn btn-link text-center front-link">
                                <p><img src="content/images/icons/retenciones-y-pagos.png"></p>
                                <p>{{'home.retenciones.pagos' | translate}}</p>
                            </a>
                        </div>

                        <div class="col-md-2">
                            <a class="btn btn-link text-center front-link">
                                <p><img src="content/images/icons/facturador-en-linea.png"></p>
                                <p>{{'home.facturador.enlinea' | translate}}</p>
                            </a>
                        </div>

                        <div class="col-md-2">
                            <a class="btn btn-link text-center front-link" href="#/register">
                                <p><img src="content/images/icons/facturador-gratuito.png"></p>
                                <p>{{'home.facturador.gratuito' | translate}}</p>
                            </a>
                        </div>

                        <div class="col-md-2">
                            <a class="btn btn-link text-center front-link">
                                <p><img src="content/images/icons/ios.png"></p>
                                <p>{{'home.ios' | translate}}</p>
                            </a>
                        </div>

                        <div class="col-md-2">
                            <a class="btn btn-link text-center front-link">
                                <p><img src="content/images/icons/android.png"></p>
                                <p>{{'home.android' | translate}}</p>
                            </a>
                        </div>
                    </div>

                    <div class="hr hr8 space-12"></div>

                    <h3 class="bolder text-center">{{'home.clientes' | translate}}</h3>

					<div class="space-12"></div>

					<div class="row">
						<div class="col-md-2">
							<a class="btn btn-link text-center front-link">
								<p><img src="content/images/icons/cia.png" class="img-responsive"></p>
								<p>CIA</p>
							</a>
						</div>

						<div class="col-md-2">
							<a class="btn btn-link text-center front-link">
								<p><img src="content/images/icons/cnbv.png" class="img-responsive"></p>
								<p>CNBV</p>
							</a>
						</div>

						<div class="col-md-2">
							<a class="btn btn-link text-center front-link">
								<p><img src="content/images/icons/coyma.png" class="img-responsive"></p>
								<p>COYMA</p>
							</a>
						</div>

						<div class="col-md-2">
							<a class="btn btn-link text-center front-link">
								<p><img src="content/images/icons/dhs.png" class="img-responsive"></p>
								<p>DHS</p>
							</a>
						</div>

						<div class="col-md-2">
							<a class="btn btn-link text-center front-link">
								<p><img src="content/images/icons/gia.png" class="img-responsive"></p>
								<p>GIA</p>
							</a>
						</div>

						<div class="col-md-2">
							<a class="btn btn-link text-center front-link">
								<p><img src="content/images/icons/iie.png" class="img-responsive"></p>
								<p>IIE</p>
							</a>
						</div>
					</div>
				</div>
			</div>
			<!-- PAGE CONTENT ENDS -->
		</div><!-- /.col -->
	</div><!-- /.row -->

	<div ng-switch-when="true" has-authority="ROLE_USER" ng-if="vm.isNoAdmin" >
		<div class="page-header">
			<div class="row">
				<div class="col-md-8">
					<h1>
                        {{'home.user' | translate}}
						<small>
							<i class="ace-icon fa fa-angle-double-right"></i>
                            {{'home.home' | translate}}
						</small>
					</h1>
				</div>
				<div class="col-md-4">
					<p class = "pull-right">
						<i class="fa fa-clock-o"></i>
                        <span>{{'home.text7' | translate}}</span>
                        <span>{{vm.restDate(vm.user.createdDate)}}</span>
					</p>
				</div>
			</div>
		</div><!-- /.page-header -->

		<div class="row">
			<div class="col-xs-12">
				<ul class="nav nav-pills">
					<li>
						<a href="#/">
							<i class="ace-icon fa fa-home light-blue bigger-150"></i>
						</a>
					</li>
                    <li>
                        <a ng-show = "vm.showmenu != null" ui-sref="free-emitter.new">{{'global.user.emitter.data' | translate}}</a>
                    </li>
					<li>
						<a ng-show = "vm.showmenu != null" ui-sref="free-cfdi.new">{{'global.user.generate.cfdi' | translate}}</a>
					</li>
					<li>
						<a ui-sref="free-cfdi">{{'global.user.search.cfdi' | translate}}</a>
					</li>
					<li>
						<a ui-sref="request-taxpayer-account.new">{{'global.user.join.mega' | translate}}</a>
					</li>
				</ul>
			</div><!-- /.col -->
		</div><!-- /.row -->

		<div class="hr hr-16 hr-dotted"></div>

		<div class="row">
			<div class="col-xs-12">
				<!-- PAGE CONTENT BEGINS -->
				<h4>{{'home.text1' | translate}}</h4>
				<p>{{'home.text2' | translate}}</p>
				<ol>
					<li>{{'home.text3' | translate}}</li>
					<li>{{'home.text4' | translate}}</li>
					<li>{{'home.text5' | translate}}</li>
					<li>{{'home.text6' | translate}}</li>
				</ol>
				<!-- PAGE CONTENT ENDS -->
			</div><!-- /.col -->
		</div><!-- /.row -->

	</div>

    <div ng-switch-when="true" has-authority="ROLE_AFILITATED" ng-if="vm.isNoAdmin" >
        <div class="page-header">
            <div class="row">
                <div class="col-md-8">
                    <h1>
                        {{'home.afilitated' | translate}}
                        <small>
                            <i class="ace-icon fa fa-angle-double-right"></i>
                            {{'home.home' | translate}}
                        </small>
                    </h1>
                </div>
                <div class="col-md-3">
                    <select class="form-control" id="field_account" name="account" ng-model="vm.taxpayer_account"
                            ng-options="taxpayer_account as taxpayer_account.bussines_name for taxpayer_account in vm.taxpayer_accounts track by taxpayer_account.id">
                        <option value="">Seleccione Cuenta Contribuyente</option>
                    </select>
                </div>
                <div class="col-md-1">
                    <a title="Ayuda" data-rel="tooltip" class="btn btn-sm btn-info tooltip-info pull-right" href="">
                        <i class="fa fa-lightbulb-o"></i>
                    </a>
                </div>
            </div>
        </div><!-- /.page-header -->

        <div class="row">
            <div class="col-xs-12">
                <ul class="nav nav-pills">
                    <li>
                        <a href="#/">
                            <i class="ace-icon fa fa-home light-blue bigger-150"></i>
                        </a>
                    </li>
                    <li ng-show="vm.taxpayer_account != null">
                        <a ui-sref="cfdi-new({id:vm.taxpayer_account.id})">{{'global.afilitated.generateCFDI' | translate}}</a>
                    </li>
                    <li ng-show="vm.taxpayer_account != null">
                        <a ui-sref="taxpayer-client({id:vm.taxpayer_account.id})">{{'global.afilitated.costumers' | translate}}</a>
                    </li>
                    <li ng-show="vm.taxpayer_account != null">
                        <a ui-sref="taxpayer-concept({id:vm.taxpayer_account.id})">{{'global.afilitated.concepts' | translate}}</a>
                    </li>
                    <li ng-show="vm.taxpayer_account != null">
                        <a ui-sref="tax-concept({id:vm.taxpayer_account.id})">{{'global.afilitated.tax_concepts' | translate}}</a>
                    </li>
                    <li>
                        <a ui-sref="taxpayer-account-transaction">{{'megabillingplatformApp.taxpayer_account.adquired' | translate}}</a>
                    </li>
                    <li>
                        <a ui-sref="request-taxpayer-account.afilitated">{{'global.user.join.mega' | translate}}</a>
                    </li>
                    <li ng-show="vm.taxpayer_account != null">
                        <a ui-sref="taxpayer-account-inbox({id:vm.taxpayer_account.id})">{{'megabillingplatformApp.taxpayer_account.inbox' | translate}}</a>
                    </li>
                </ul>
            </div><!-- /.col -->
        </div><!-- /.row -->

        <div class="hr hr-16 hr-dotted"></div>

        <div class="row">
            <div class="col-xs-12">
                <!-- PAGE CONTENT BEGINS -->
                <div class="col-xs-6">
                    <h2 translate="home.taxpayer_account_title">Taxpayer Accounts</h2>
                    <div class="table-responsive">
                        <table class="jh-table table table-striped">
                            <thead>
                            <tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()">
                                <th jh-sort-by="id"><span translate="global.field.id">ID</span> <span class="glyphicon glyphicon-sort"></span></th>
                                <th jh-sort-by="rfc"><span translate="home.rfc">Rfc</span> <span class="glyphicon glyphicon-sort"></span></th>
                                <th jh-sort-by="bussines_name"><span translate="home.bussines_name">Bussines Name</span> <span class="glyphicon glyphicon-sort"></span></th>
                                <th><span translate="home.transactions">Transactions</span></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="taxpayer_account in vm.taxpayer_accounts track by taxpayer_account.id">
                                <td><a ui-sref="taxpayer-account-index({id:taxpayer_account.id})">{{taxpayer_account.id}}</a></td>
                                <td>{{taxpayer_account.rfc}}</td>
                                <td>{{taxpayer_account.bussines_name}}</td>
                                <td>{{taxpayer_account.transactions_available}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div><!-- /.col -->
                <div class="col-xs-6">
                    <div class="widget-box">
                        <div class="widget-header widget-header-flat widget-header-small">
                            <h5 class="widget-title">
                                Estadísticas | Timbres
                            </h5>

                            <div class="widget-toolbar no-border">
                                <div class="inline dropdown-hover">
                                    <button class="btn btn-minier btn-primary">
                                        Cuenta de Contribuyente
                                        <i class="ace-icon fa fa-angle-down icon-on-right bigger-110"></i>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-right dropdown-125 dropdown-lighter dropdown-close dropdown-caret">
                                        <li ng-repeat="taxpayer_account in vm.taxpayer_accounts track by taxpayer_account.id">
                                            <a href="#" class="blue" ng-click = "vm.drawAccount(taxpayer_account)">
                                                <i class="ace-icon fa fa-caret-right bigger-110">&nbsp;</i>
                                                {{taxpayer_account.bussines_name}}
                                            </a>
                                        </li>
                                    </ul>
                                </div>

                                <div class="inline dropdown-hover">
                                    <button class="btn btn-minier btn-primary">
                                        Momento
                                        <i class="ace-icon fa fa-angle-down icon-on-right bigger-110"></i>
                                    </button>

                                    <ul class="dropdown-menu dropdown-menu-right dropdown-125 dropdown-lighter dropdown-close dropdown-caret">
                                        <li>
                                            <a href="#" ng-click = "vm.drawMontWeek(1)">
                                                <i class="ace-icon fa fa-caret-right bigger-110 invisible">&nbsp;</i>
                                                Este Mes
                                            </a>
                                        </li>
                                        <li class="active">
                                            <a href="#" class="blue" ng-click = "vm.drawMontWeek(2)">
                                                <i class="ace-icon fa fa-caret-right bigger-110">&nbsp;</i>
                                                Esta Semana
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="widget-body">
                            <div class="widget-main">
                                <p>Cuenta de contribuyente: {{vm.taxpayer_accountsta.bussines_name}}</p>
                                <p ng-show = "vm.showDraw != null">Habilitados: {{vm.transactions_available}}, Gastados: {{vm.transactions_spent}}</p>
                                <p ng-show = "vm.showDrawMonth != null">Adquiridos: {{vm.transactions_adquired}}, Gastados: {{vm.transactions_spent}}, Transferidos: {{vm.transactions_transfer}}</p>
                                <p>Total: {{vm.totaltrans}}</p>
                                <div id="piechart-placeholder1" style="width: 95%;height: 150px">.</div>
                            </div><!-- /.widget-main -->
                        </div><!-- /.widget-body -->
                    </div><!-- /.widget-box -->
                </div><!-- /.col -->
                <!-- PAGE CONTENT ENDS -->
            </div><!-- /.col -->
        </div><!-- /.row -->

        <div class="row">
            <div class="col-xs-12">
                    <h2 translate="home.lastoperation">Últimas operaciones</h2>
                    <div class="table-responsive">
                        <table class="jh-table table table-striped">
                            <thead>
                            <tr>
                                <th><span translate="home.datetime">Fecha</span></th>
                                <th><span translate="home.rfc">Rfc</span></th>
                                <th><span translate="home.modul">Modul</span></th>
                                <th><span translate="home.operation">Operation</span></th>
                                <th><span translate="home.result">Result</span></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="tracemgAccount in vm.tracemgAccounts track by tracemgAccount.id">
                                <td>{{tracemgAccount.timestamp}}</td>
                                <td>{{tracemgAccount.rfc}}</td>
                                <td>{{tracemgAccount.modulo}}</td>
                                <td>{{tracemgAccount.operation}}</td>
                                <td>{{tracemgAccount.result}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                <!-- PAGE CONTENT ENDS -->
            </div><!-- /.col -->
        </div><!-- /.row -->

    </div>

	<div ng-switch-when="true" has-authority="ROLE_ADMIN">
		<div class="page-header">
			<h1>Pizarra de Datos</h1>
		</div><!-- /.page-header -->

		<div class="row">
			<div class="col-xs-12">
				<!-- PAGE CONTENT BEGINS -->
				<div class="row">
					<div class="space-6"></div>

					<div class="col-sm-7 infobox-container">
						<div class="infobox infobox-green">
							<div class="infobox-icon">
								<i class="ace-icon fa fa-user"></i>
							</div>

							<div class="infobox-data">
								<span class="infobox-data-number">{{vm.totalUser}}</span>
								<div class="infobox-content">Total de Usuarios</div>
							</div>
						</div>

						<div class="infobox infobox-blue">
							<div class="infobox-icon">
								<i class="ace-icon fa fa-check"></i>
							</div>

							<div class="infobox-data">
								<span class="infobox-data-number">{{vm.totalRequest_taxpayer_accounts}}</span>
								<div class="infobox-content">Total de Solicitudes</div>
							</div>
						</div>

						<div class="infobox infobox-pink">
							<div class="infobox-icon">
								<i class="ace-icon fa fa-gavel"></i>
							</div>

							<div class="infobox-data">
								<span class="infobox-data-number">{{vm.totalTaxpayer_transactions}}</span>
								<div class="infobox-content">Total de Timbres</div>
							</div>
						</div>

						<div class="infobox infobox-red">
							<div class="infobox-icon">
								<i class="ace-icon fa fa-money"></i>
							</div>

							<div class="infobox-data">
								<span class="infobox-data-number">1573332</span>
								<div class="infobox-content">Total de Facturas</div>
							</div>
						</div>

						<div class="infobox infobox-orange2">
							<div class="infobox-icon">
								<i class="ace-icon fa fa-money"></i>
							</div>

							<div class="infobox-data">
								<span class="infobox-data-number">157529992</span>
								<div class="infobox-content">Total de Facturas</div>
							</div>
						</div>

						<div class="infobox infobox-blue2">
							<div class="infobox-icon">
								<i class="ace-icon fa fa-money"></i>
							</div>

							<div class="infobox-data">
								<span class="infobox-data-number">56399292</span>
								<div class="infobox-content">Total de Pagos</div>
							</div>
						</div>
					</div>

					<div class="vspace-12-sm"></div>

					<div class="col-sm-5">
						<div class="widget-box">
							<div class="widget-header widget-header-flat widget-header-small">
								<h5 class="widget-title">
									Estadísticas Timbres
								</h5>

								<div class="widget-toolbar no-border">
									<div class="inline dropdown-hover">
										<button class="btn btn-minier btn-primary">
											Este Mes
											<i class="ace-icon fa fa-angle-down icon-on-right bigger-110"></i>
										</button>

										<ul class="dropdown-menu dropdown-menu-right dropdown-125 dropdown-lighter dropdown-close dropdown-caret">
											<li>
												<a href="#">
													<i class="ace-icon fa fa-caret-right bigger-110 invisible">&nbsp;</i>
													Este Mes
												</a>
											</li>
											<li class="active">
												<a href="#" class="blue">
													<i class="ace-icon fa fa-caret-right bigger-110">&nbsp;</i>
													Esta Semana
												</a>
											</li>
										</ul>
									</div>
								</div>
							</div>

							<div class="widget-body">
								<div class="widget-main">
									<div id="piechart-placeholder"></div>

									<div class="hr hr8 hr-double"></div>

									<div class="clearfix">
										<div class="grid2">
											<span class="grey">
												<i class="ace-icon fa fa-level-up fa-2x green"></i>
												&nbsp; Habilitados
											</span>
											<h4 class="bigger pull-right">1,255</h4>
										</div>

										<div class="grid2">
											<span class="grey">
												<i class="ace-icon fa fa-level-down fa-2x blue"></i>
												&nbsp; Gastados
											</span>
											<h4 class="bigger pull-right">941</h4>
										</div>
									</div>
								</div><!-- /.widget-main -->
							</div><!-- /.widget-body -->
						</div><!-- /.widget-box -->
					</div><!-- /.col -->
				</div><!-- /.row -->

				<div class="hr hr32 hr-dotted"></div>

				<div class="row">
					<div class="col-md-6">
						<h3 class="header smaller lighter blue">
							Solicitudes de Cuentas de Facturación Pendientes
						</h3>
                        <a href="#/request-taxpayer-account">
                            {{'entity.action.viewall' | translate}}
                        </a>
                        <div class="table-responsive">
                            <table class="jh-table table table-striped">
                                <thead>
                                <tr>
                                    <th><span translate="home.date_request">Date Request</span></th>
                                    <th><span translate="home.filterrfc">Rfc</span></th>
                                    <th><span translate="home.filterbussines_name">Bussines Name</span></th>
                                    <th><span translate="home.filtername">Name</span></th>
                                    <th><span translate="home.filterphone">Phone</span></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="request_taxpayer_account in vm.request_taxpayer_accounts track by request_taxpayer_account.id">
                                    <td>{{request_taxpayer_account.daterequest | date:'medium'}}</td>
                                    <td>{{request_taxpayer_account.rfc}}</td>
                                    <td>{{request_taxpayer_account.bussinesname}}</td>
                                    <td>{{request_taxpayer_account.name}}</td>
                                    <td>{{request_taxpayer_account.phone}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
					</div>

					<div class="col-md-6">
						<h3 class="header smaller lighter blue">
							Últimos CFDI Enviados al SAT
						</h3>

						<table id="grid-table-enviados"></table>
						<div id="grid-pager-enviados"></div>
					</div>
				</div>

				<h3 class="header smaller lighter blue">
					Trazas del sistema
				</h3>
                <a href="#/tracemg">
                    {{'entity.action.viewall' | translate}}
                </a>
                <table class="table table-condensed table-striped table-bordered table-responsive">
                    <thead>
                    <tr>
                        <th><span translate="megabillingplatformApp.tracemg.audit_event_type">Name</span></th>
                        <th><span translate="megabillingplatformApp.tracemg.audit_event_type_description">Description</span></th>
                        <th><span translate="megabillingplatformApp.tracemg.timestamp">Timestamp</span></th>
                        <th><span translate="megabillingplatformApp.tracemg.c_state_event">State</span></th>
                        <th><span translate="megabillingplatformApp.tracemg.principal">Principal</span></th>
                        <th><span translate="megabillingplatformApp.tracemg.ip">Ip</span></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="tracemg in vm.tracemgs track by tracemg.id">
                        <td><span>{{tracemg.audit_event_type.name}}</span></td>
                        <td><span>{{tracemg.audit_event_type.description}}</span></td>
                        <td><span>{{tracemg.timestamp | date:'medium'}}</span></td>
                        <td><span>{{tracemg.c_state_event.name}}</span></td>
                        <td><span>{{tracemg.principal}}</span></td>
                        <td><span>{{tracemg.ip}}</span></td>
                    </tr>
                    </tbody>
                </table>

				<script type="text/javascript">
					var $path_base = ".";//in Ace demo this will be used for editurl parameter
				</script>

				<!-- PAGE CONTENT ENDS -->
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div>

</div>
